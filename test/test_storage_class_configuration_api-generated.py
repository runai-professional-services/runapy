# coding: utf-8

"""
Test file for StorageClassConfigurationApi
Generated by OpenAPI Generator with custom template
"""

import pytest
import unittest.mock as mock
from datetime import datetime, timezone
import json

from runai.configuration import Configuration
from runai.api_client import ApiClient
from runai.models import *
from runai.exceptions import ApiException


class TestStorageClassConfigurationApi:
    """Test cases for StorageClassConfigurationApi"""

    @pytest.fixture(autouse=True)
    def setup(self):
        """Setup test fixtures"""
        self.configuration = Configuration(
            client_id="test-client",
            client_secret="test-secret",
            runai_base_url="https://test.run.ai",
        )
        self.api_client = ApiClient(self.configuration)
        self.api = StorageClassConfigurationApi(self.api_client)

        # Mock the request method
        self.request_patcher = mock.patch.object(self.api_client.rest_client, "request")
        self.mock_request = self.request_patcher.start()
        yield
        self.request_patcher.stop()

    def test_create_storage_class_configuration(self):
        """Test case for create_storage_class_configuration

        Create storage class configuration Creates a new storage class configuration in the NVIDIA Run:ai platform. This endpoint enables administrators to define storage class behavior and customize their usage settings.
        """
        # Mock response
        mock_response = mock.Mock()
        mock_response.status = 200
        mock_response.read.return_value = json.dumps({"data": {}})
        self.mock_request.return_value = mock_response

        # Test parameters
        storage_class_configuration_creation_request = (
            runai.StorageClassConfigurationCreationRequest()
        )  # StorageClassConfigurationCreationRequest |

        # Make request
        response = self.api.create_storage_class_configuration(
            storage_class_configuration_creation_request=storage_class_configuration_creation_request,
        )

        # Verify request was made
        assert self.mock_request.called
        args, kwargs = self.mock_request.call_args

        # Verify request method and URL
        assert kwargs["method"] == "POST"
        assert "/api/v1/storage-class-configuration" in kwargs["url"]

        # Verify body
        assert kwargs["body"] is not None

        # Verify response
        assert isinstance(response, StorageClassConfiguration)

    def test_create_storage_class_configuration_error(self):
        """Test error handling for create_storage_class_configuration"""
        # Mock error response
        mock_response = mock.Mock()
        mock_response.status = 400
        mock_response.read.return_value = json.dumps({"message": "Error message"})
        self.mock_request.return_value = mock_response

        # Test parameters
        storage_class_configuration_creation_request = (
            runai.StorageClassConfigurationCreationRequest()
        )

        # Verify error handling
        with pytest.raises(ApiException) as exc_info:
            self.api.create_storage_class_configuration(
                storage_class_configuration_creation_request=storage_class_configuration_creation_request,
            )
        assert exc_info.value.status == 400

    def test_delete_storage_class_configuration_by_id(self):
        """Test case for delete_storage_class_configuration_by_id

        Delete storage class configuration by id Deletes a specific storage class configuration by its unique identifier. Use this endpoint to permanently remove configurations that are no longer needed.
        """
        # Mock response
        mock_response = mock.Mock()
        mock_response.status = 200
        mock_response.read.return_value = json.dumps({})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"  # str | unique identifier of the storage class configuration
        tenant_id = 56  # int |

        # Make request
        self.api.delete_storage_class_configuration_by_id(
            id=id,
        )

        # Verify request was made
        assert self.mock_request.called
        args, kwargs = self.mock_request.call_args

        # Verify request method and URL
        assert kwargs["method"] == "DELETE"
        assert "/api/v1/storage-class-configuration/{id}" in kwargs["url"]

        # Verify query parameters
        assert "tenantId=" in kwargs["url"]

    def test_delete_storage_class_configuration_by_id_error(self):
        """Test error handling for delete_storage_class_configuration_by_id"""
        # Mock error response
        mock_response = mock.Mock()
        mock_response.status = 400
        mock_response.read.return_value = json.dumps({"message": "Error message"})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"

        # Verify error handling
        with pytest.raises(ApiException) as exc_info:
            self.api.delete_storage_class_configuration_by_id(
                id=id,
            )
        assert exc_info.value.status == 400

    def test_get_storage_class_configuration_by_id(self):
        """Test case for get_storage_class_configuration_by_id

        Get storage class configuration by id Retrieves a specific storage class configuration by its unique identifier. Use this endpoint to view detailed information about the configuration, including its permissions and customization options.
        """
        # Mock response
        mock_response = mock.Mock()
        mock_response.status = 200
        mock_response.read.return_value = json.dumps({"data": {}})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"  # str | unique identifier of the storage class configuration
        tenant_id = 56  # int |

        # Make request
        response = self.api.get_storage_class_configuration_by_id(
            id=id,
        )

        # Verify request was made
        assert self.mock_request.called
        args, kwargs = self.mock_request.call_args

        # Verify request method and URL
        assert kwargs["method"] == "GET"
        assert "/api/v1/storage-class-configuration/{id}" in kwargs["url"]

        # Verify query parameters
        assert "tenantId=" in kwargs["url"]

        # Verify response
        assert isinstance(response, StorageClassConfiguration)

    def test_get_storage_class_configuration_by_id_error(self):
        """Test error handling for get_storage_class_configuration_by_id"""
        # Mock error response
        mock_response = mock.Mock()
        mock_response.status = 400
        mock_response.read.return_value = json.dumps({"message": "Error message"})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"

        # Verify error handling
        with pytest.raises(ApiException) as exc_info:
            self.api.get_storage_class_configuration_by_id(
                id=id,
            )
        assert exc_info.value.status == 400

    def test_list_storage_class_configuration(self):
        """Test case for list_storage_class_configuration

        List storage class configurations Retrieves a list of storage class configurations defined in the system.
        """
        # Mock response
        mock_response = mock.Mock()
        mock_response.status = 200
        mock_response.read.return_value = json.dumps({"data": {}})
        self.mock_request.return_value = mock_response

        # Test parameters
        filter_by = [
            '["name!=some-name"]'
        ]  # List[str] | Filter results by a parameter. Use the format field-name operator value. Operators are == Equals, != Not equals, <= Less than or equal, >= Greater than or equal, =@ contains, !@ Does not contains, =^ Starts with and =$ Ends with. Dates are in ISO 8601 timestamp format and available for operators == None, != None, <= and >=.
        sort_by = "sort_by_example"  # str | Sort results by a parameters.
        sort_order = asc  # str | Sort results in descending or ascending order.
        offset = 100  # int | The offset of the first item returned in the collection.
        limit = 50  # int | The maximum number of entries to return.

        # Make request
        response = self.api.list_storage_class_configuration()

        # Verify request was made
        assert self.mock_request.called
        args, kwargs = self.mock_request.call_args

        # Verify request method and URL
        assert kwargs["method"] == "GET"
        assert "/api/v1/storage-class-configuration" in kwargs["url"]

        # Verify query parameters
        assert "filterBy=" in kwargs["url"]
        # Verify query parameters
        assert "sortBy=" in kwargs["url"]
        # Verify query parameters
        assert "sortOrder=" in kwargs["url"]
        # Verify query parameters
        assert "offset=" in kwargs["url"]
        # Verify query parameters
        assert "limit=" in kwargs["url"]

        # Verify response
        assert isinstance(response, StorageClassConfigurationListResponse)

    def test_list_storage_class_configuration_error(self):
        """Test error handling for list_storage_class_configuration"""
        # Mock error response
        mock_response = mock.Mock()
        mock_response.status = 400
        mock_response.read.return_value = json.dumps({"message": "Error message"})
        self.mock_request.return_value = mock_response

        # Test parameters

        # Verify error handling
        with pytest.raises(ApiException) as exc_info:
            self.api.list_storage_class_configuration()
        assert exc_info.value.status == 400

    def test_patch_storage_class_configuration_by_id(self):
        """Test case for patch_storage_class_configuration_by_id

        Patch storage class configuration by id Partially updates an existing storage class configuration by its unique identifier. Use this endpoint to modify specific fields, such as permissions, customization values, or attributes, without replacing the entire configuration.
        """
        # Mock response
        mock_response = mock.Mock()
        mock_response.status = 200
        mock_response.read.return_value = json.dumps({"data": {}})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"  # str | unique identifier of the storage class configuration
        storage_class_configuration_patch_request = (
            runai.StorageClassConfigurationPatchRequest()
        )  # StorageClassConfigurationPatchRequest |
        tenant_id = 56  # int |

        # Make request
        response = self.api.patch_storage_class_configuration_by_id(
            id=id,
            storage_class_configuration_patch_request=storage_class_configuration_patch_request,
        )

        # Verify request was made
        assert self.mock_request.called
        args, kwargs = self.mock_request.call_args

        # Verify request method and URL
        assert kwargs["method"] == "PATCH"
        assert "/api/v1/storage-class-configuration/{id}" in kwargs["url"]

        # Verify query parameters
        assert "tenantId=" in kwargs["url"]

        # Verify body
        assert kwargs["body"] is not None

        # Verify response
        assert isinstance(response, StorageClassConfiguration)

    def test_patch_storage_class_configuration_by_id_error(self):
        """Test error handling for patch_storage_class_configuration_by_id"""
        # Mock error response
        mock_response = mock.Mock()
        mock_response.status = 400
        mock_response.read.return_value = json.dumps({"message": "Error message"})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"
        storage_class_configuration_patch_request = (
            runai.StorageClassConfigurationPatchRequest()
        )

        # Verify error handling
        with pytest.raises(ApiException) as exc_info:
            self.api.patch_storage_class_configuration_by_id(
                id=id,
                storage_class_configuration_patch_request=storage_class_configuration_patch_request,
            )
        assert exc_info.value.status == 400

    def test_update_storage_class_configuration_by_id(self):
        """Test case for update_storage_class_configuration_by_id

        Update storage class configuration by id Updates an existing storage class configuration by its unique identifier. Use this endpoint to fully replace an existing configuration, including permissions and customization settings.
        """
        # Mock response
        mock_response = mock.Mock()
        mock_response.status = 200
        mock_response.read.return_value = json.dumps({"data": {}})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"  # str | unique identifier of the storage class configuration
        storage_class_configuration_update_request = (
            runai.StorageClassConfigurationUpdateRequest()
        )  # StorageClassConfigurationUpdateRequest |
        tenant_id = 56  # int |

        # Make request
        response = self.api.update_storage_class_configuration_by_id(
            id=id,
            storage_class_configuration_update_request=storage_class_configuration_update_request,
        )

        # Verify request was made
        assert self.mock_request.called
        args, kwargs = self.mock_request.call_args

        # Verify request method and URL
        assert kwargs["method"] == "PUT"
        assert "/api/v1/storage-class-configuration/{id}" in kwargs["url"]

        # Verify query parameters
        assert "tenantId=" in kwargs["url"]

        # Verify body
        assert kwargs["body"] is not None

        # Verify response
        assert isinstance(response, StorageClassConfiguration)

    def test_update_storage_class_configuration_by_id_error(self):
        """Test error handling for update_storage_class_configuration_by_id"""
        # Mock error response
        mock_response = mock.Mock()
        mock_response.status = 400
        mock_response.read.return_value = json.dumps({"message": "Error message"})
        self.mock_request.return_value = mock_response

        # Test parameters
        id = "id_example"
        storage_class_configuration_update_request = (
            runai.StorageClassConfigurationUpdateRequest()
        )

        # Verify error handling
        with pytest.raises(ApiException) as exc_info:
            self.api.update_storage_class_configuration_by_id(
                id=id,
                storage_class_configuration_update_request=storage_class_configuration_update_request,
            )
        assert exc_info.value.status == 400
